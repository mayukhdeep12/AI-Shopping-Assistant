# Smart Product Search Application

## Overview

This application provides a smart product search interface using Streamlit, SQLite, and Ollama (LLM). It allows users to search for products, compare prices across different platforms, check shipping and refund policies, and apply promo codes. The application leverages an LLM to provide concise summaries and recommendations.

## Design Decisions

### Agent Architecture

The application follows a modular design, separating concerns into different functions and classes. The `ProductSearchApp` class encapsulates the core logic for searching, comparing, and displaying product information.

-   **Modularity**: The code is divided into functions and classes, making it easier to maintain and extend.
-   **Data Abstraction**: `data_constants.py` encapsulates product data, shipping policies, refund policies, and promo codes, making it easy to update and manage.
-   **Intent Detection**: Regular expressions are used to detect the intent of the user's query, allowing the application to provide more relevant results.
-   **Relevance Scoring**: Fuzzy matching is used to calculate the relevance score for a product based on the user's query.
-   **LLM Integration**: Ollama is integrated to provide concise summaries and recommendations.

### Tool Selection

-   **Streamlit**: Used for creating the user interface due to its simplicity and ease of use.
-   **SQLite**: Used as the database to store product information, shipping policies, refund policies, and promo codes.
-   **Ollama**: Used for generating concise summaries and recommendations.
-   **FuzzyWuzzy**: Used for fuzzy matching to calculate the relevance score for a product based on the user's query.
-   **Regular Expressions**: Used to detect the intent of the user's query.

## Challenges & Improvements

### Challenges

-   **Relevance Scoring**: Improving the relevance scoring algorithm to provide more accurate results.
-   **LLM Integration**: Handling errors and improving the quality of summaries generated by the LLM.
-   **Performance**: Optimizing the database queries and LLM calls to improve the application's performance.
-   **Data Integrity**: Ensuring the data in the database is accurate and consistent.
-   **Fuzzy Matching Accuracy:** Balancing the fuzzy matching threshold to avoid false positives while capturing relevant products.

### Improvements

-   **Improved Relevance Scoring**: Implemented fuzzy matching to improve the accuracy of relevance scoring.
-   **Location-Based Delivery Estimates**: Integrated location-based delivery estimates to provide more accurate shipping information.
-   **AI-Powered Summaries**: Integrated LLM to provide concise summaries of product details, shipping information, and refund policies.
-   **Price Comparison**: Added price comparison functionality to allow users to compare prices across different platforms.
-   **Promo Code Application**: Implemented promo code application to allow users to apply promo codes to products.
-   **Intent Detection**: Added intent detection to allow the application to provide more relevant results.
-   **Stock Availability**: Added stock availability checks to provide users with real-time stock information.
-   **UI Enhancements**: Added a sidebar for location selection and improved the overall design of the application.
-   **Error Handling**: Improved error handling to provide more informative error messages.

### Future Enhancements

-   **Advanced Search**: Implement advanced search features such as filtering by price, brand, category, and color.
-   **User Authentication**: Add user authentication to allow users to save their preferences and shopping history.
-   **Personalized Recommendations**: Implement personalized product recommendations based on user preferences and shopping history.
-   **Real-Time Inventory**: Integrate with real-time inventory systems to provide accurate stock information.
-   **Chatbot Integration**: Integrate with a chatbot to provide a more conversational interface.

## Usage

1.  Clone the repository:

    ```bash
    git clone [repository URL]
    cd smart-product-search
    ```

2.  Create the database:

    ```bash
    python create_db.py
    ```

3.  Install the required packages:

    ```bash
    pip install -r requirements.txt
    ```

4.  Run the Streamlit application:

    ```bash
    streamlit run app.py
    ```

5.  Access the application in your browser at `http://localhost:8501`.
